import { textColor } from "context/theme"
import React from "react"
import styled from "styled-components"
import Tooltip from "../tooltip/Tooltip"

const Required = () => (
  <svg
    style={{ position: "absolute", marginTop: "13px", marginLeft: "-20px" }}
    width="8"
    height="8"
    viewBox="0 0 10 10"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M5.00497 6.17936C4.33644 6.17936 3.79565 5.65853 3.79565 5.00436C3.79565 4.3502 4.33644 3.8252 5.00497 3.8252C5.6735 3.8252 6.20151 4.3502 6.20151 5.00436C6.20151 5.65853 5.6735 6.17936 5.00497 6.17936Z"
      fill="#250F3A"
      fillOpacity="0.74"
    />
    <g opacity="0.4">
      <path
        d="M8.84573 5.98766C8.76482 5.86266 8.64985 5.73766 8.50081 5.6585C8.38159 5.60016 8.30494 5.50433 8.23681 5.39183C8.01964 5.0335 8.14739 4.56266 8.50933 4.35016C8.93515 4.11266 9.07141 3.5835 8.82443 3.171L8.53914 2.67933C8.29642 2.26683 7.76415 2.121 7.3426 2.36266C6.96788 2.56266 6.48671 2.42933 6.26954 2.07516C6.20141 1.9585 6.16309 1.8335 6.1716 1.7085C6.18438 1.546 6.13328 1.39183 6.05663 1.26683C5.89908 1.0085 5.61378 0.833496 5.29868 0.833496H4.69828C4.38744 0.841829 4.10214 1.0085 3.94459 1.26683C3.86368 1.39183 3.81684 1.546 3.82536 1.7085C3.83388 1.8335 3.79555 1.9585 3.72742 2.07516C3.51026 2.42933 3.02908 2.56266 2.65862 2.36266C2.23281 2.121 1.7048 2.26683 1.45782 2.67933L1.17253 3.171C0.929814 3.5835 1.06607 4.11266 1.48763 4.35016C1.84958 4.56266 1.97732 5.0335 1.76441 5.39183C1.69202 5.50433 1.61538 5.60016 1.49615 5.6585C1.35137 5.73766 1.22363 5.86266 1.1555 5.98766C0.997944 6.246 1.00646 6.571 1.16401 6.84183L1.45782 7.34183C1.61538 7.6085 1.90919 7.77516 2.21578 7.77516C2.36055 7.77516 2.53088 7.7335 2.66714 7.65016C2.77359 7.57933 2.90134 7.55433 3.04186 7.55433C3.46342 7.55433 3.81684 7.90016 3.82536 8.31266C3.82536 8.79183 4.21711 9.16683 4.71106 9.16683H5.29016C5.77985 9.16683 6.1716 8.79183 6.1716 8.31266C6.18438 7.90016 6.5378 7.55433 6.95936 7.55433C7.09562 7.55433 7.22337 7.57933 7.33408 7.65016C7.47034 7.7335 7.63641 7.77516 7.78544 7.77516C8.08777 7.77516 8.38159 7.6085 8.53914 7.34183L8.83721 6.84183C8.9905 6.56266 9.00328 6.246 8.84573 5.98766Z"
        fill="#51CD92"
      />
      <path
        d="M8.84573 5.98766C8.76482 5.86266 8.64985 5.73766 8.50081 5.6585C8.38159 5.60016 8.30494 5.50433 8.23681 5.39183C8.01964 5.0335 8.14739 4.56266 8.50933 4.35016C8.93515 4.11266 9.07141 3.5835 8.82443 3.171L8.53914 2.67933C8.29642 2.26683 7.76415 2.121 7.3426 2.36266C6.96788 2.56266 6.48671 2.42933 6.26954 2.07516C6.20141 1.9585 6.16309 1.8335 6.1716 1.7085C6.18438 1.546 6.13328 1.39183 6.05663 1.26683C5.89908 1.0085 5.61378 0.833496 5.29868 0.833496H4.69828C4.38744 0.841829 4.10214 1.0085 3.94459 1.26683C3.86368 1.39183 3.81684 1.546 3.82536 1.7085C3.83388 1.8335 3.79555 1.9585 3.72742 2.07516C3.51026 2.42933 3.02908 2.56266 2.65862 2.36266C2.23281 2.121 1.7048 2.26683 1.45782 2.67933L1.17253 3.171C0.929814 3.5835 1.06607 4.11266 1.48763 4.35016C1.84958 4.56266 1.97732 5.0335 1.76441 5.39183C1.69202 5.50433 1.61538 5.60016 1.49615 5.6585C1.35137 5.73766 1.22363 5.86266 1.1555 5.98766C0.997944 6.246 1.00646 6.571 1.16401 6.84183L1.45782 7.34183C1.61538 7.6085 1.90919 7.77516 2.21578 7.77516C2.36055 7.77516 2.53088 7.7335 2.66714 7.65016C2.77359 7.57933 2.90134 7.55433 3.04186 7.55433C3.46342 7.55433 3.81684 7.90016 3.82536 8.31266C3.82536 8.79183 4.21711 9.16683 4.71106 9.16683H5.29016C5.77985 9.16683 6.1716 8.79183 6.1716 8.31266C6.18438 7.90016 6.5378 7.55433 6.95936 7.55433C7.09562 7.55433 7.22337 7.57933 7.33408 7.65016C7.47034 7.7335 7.63641 7.77516 7.78544 7.77516C8.08777 7.77516 8.38159 7.6085 8.53914 7.34183L8.83721 6.84183C8.9905 6.56266 9.00328 6.246 8.84573 5.98766Z"
        fill="#51CD92"
      />
      <path
        d="M8.84573 5.98766C8.76482 5.86266 8.64985 5.73766 8.50081 5.6585C8.38159 5.60016 8.30494 5.50433 8.23681 5.39183C8.01964 5.0335 8.14739 4.56266 8.50933 4.35016C8.93515 4.11266 9.07141 3.5835 8.82443 3.171L8.53914 2.67933C8.29642 2.26683 7.76415 2.121 7.3426 2.36266C6.96788 2.56266 6.48671 2.42933 6.26954 2.07516C6.20141 1.9585 6.16309 1.8335 6.1716 1.7085C6.18438 1.546 6.13328 1.39183 6.05663 1.26683C5.89908 1.0085 5.61378 0.833496 5.29868 0.833496H4.69828C4.38744 0.841829 4.10214 1.0085 3.94459 1.26683C3.86368 1.39183 3.81684 1.546 3.82536 1.7085C3.83388 1.8335 3.79555 1.9585 3.72742 2.07516C3.51026 2.42933 3.02908 2.56266 2.65862 2.36266C2.23281 2.121 1.7048 2.26683 1.45782 2.67933L1.17253 3.171C0.929814 3.5835 1.06607 4.11266 1.48763 4.35016C1.84958 4.56266 1.97732 5.0335 1.76441 5.39183C1.69202 5.50433 1.61538 5.60016 1.49615 5.6585C1.35137 5.73766 1.22363 5.86266 1.1555 5.98766C0.997944 6.246 1.00646 6.571 1.16401 6.84183L1.45782 7.34183C1.61538 7.6085 1.90919 7.77516 2.21578 7.77516C2.36055 7.77516 2.53088 7.7335 2.66714 7.65016C2.77359 7.57933 2.90134 7.55433 3.04186 7.55433C3.46342 7.55433 3.81684 7.90016 3.82536 8.31266C3.82536 8.79183 4.21711 9.16683 4.71106 9.16683H5.29016C5.77985 9.16683 6.1716 8.79183 6.1716 8.31266C6.18438 7.90016 6.5378 7.55433 6.95936 7.55433C7.09562 7.55433 7.22337 7.57933 7.33408 7.65016C7.47034 7.7335 7.63641 7.77516 7.78544 7.77516C8.08777 7.77516 8.38159 7.6085 8.53914 7.34183L8.83721 6.84183C8.9905 6.56266 9.00328 6.246 8.84573 5.98766Z"
        fill="#51CD92"
      />
    </g>
  </svg>
)

const Input = (props: {
  placeholder?: string
  title?: string
  type: string
  value: string
  required?: boolean
  tooltipId?: string
  projectId?: string
  onChange: (value: string) => void
  submit?: () => void
}) => {
  const {
    placeholder,
    title,
    type,
    value,
    required,
    tooltipId,
    projectId,
    onChange,
    submit,
  } = props

  return (
    <AuthInputContainer>
      {title && (
        <InputTitle>
          <Tooltip id={tooltipId} projectId={projectId}>
            {title}
          </Tooltip>
        </InputTitle>
      )}
      {required && <Required />}
      <StyledInput
        type={type}
        placeholder={placeholder}
        onChange={(e) => onChange(e.target.value)}
        onKeyPress={(e) => !!submit && e.key === "Enter" && submit()}
        value={value}
      />
    </AuthInputContainer>
  )
}

Input.defaultProps = { type: "text" }

export default Input

const AuthInputContainer = styled.div`
  margin-top: 8px;
  margin-bottom: 16px;
  width: 320px;
  font-family: FKGrotesk-SemiMono;

  @media (max-width: 720px) {
    width: 100%;
  }
`

const InputTitle = styled.div`
  font-size: 14px;
`

const StyledInput = styled.input`
  padding: 10px 0px;
  background: transparent;
  border: 0px;
  border-bottom: 1px solid;
  border-bottom-color: ${textColor};
  color: ${textColor};
  padding-left: 4px;
  width: 100%;
  font-size: 14px;

  &:focus {
    outline: none;
  }
`
